/*!
 * jquery.qlip() - v0.0.1
 * http://adam.co/lab/jquery/qlip/
 * 01/03/2013
 *
 * Copyright 2013 Adam Coulombe
 * @license http://www.opensource.org/licenses/mit-license.html MIT License
 * @license http://www.gnu.org/licenses/gpl.html GPL2 License
 */
(function(a){a.extend({qlip:{call:function(c){var b=a("[data-qlip-id="+c.id+"]");b.trigger(c.event);if(c.event=="mousedown"){b.addClass("qlip-active")}if(c.event=="mouseup"){b.trigger("copy").removeClass("qlip-active")}if(c.event=="mouseover"){b.addClass("qlip-hover")}if(c.event=="mouseout"){b.removeClass("qlip-hover")}}}});a.fn.extend({qlip:function(){var c=(typeof arguments[0]=="object")?arguments[0]:arguments[1],b=new Date().getTime(),d={swf:"qlip.swf",width:null,height:null,container:null,top:null,left:null};c=a.extend(d,c);return this.each(function(h){var l=a(this),k=(typeof arguments[0]=="string")?arguments[0]:l.data("qlip-string"),o=c.container||l,j="qlip-"+b+"-"+h,m=c.width||o.outerWidth(),e=c.height||o.outerHeight(),p=c.top||-parseInt(o.css("border-top-width")),f=c.left||-parseInt(o.css("border-top-width")),g="string="+encodeURIComponent(k)+"&id="+j;var n=a('<span class="qlip" />').css({display:"block",position:"absolute"}).append(a('<object width="100%" height="100%" />').append(a('<param name="movie" value="'+c.swf+'" />'),a('<param name="flashvars" value="'+g+'" />'),a('<param name="wmode" value="transparent" />'),a('<embed src="'+c.swf+'" wmode="transparent" flashvars="'+g+'"  width="100%" height="100%" />')));l.on("update",function(){n.css({width:m,height:e,top:p,left:f})}).trigger("update");o.attr("data-qlip-id",j).css({position:"relative"}).append(n)})}})})(jQuery);